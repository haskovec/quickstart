I actually think what I am trying to do here isn't viable in JBossTM. I was trying to run a Spring Boot app without XA connections and still get it to recover a simple commit. It looks like it doesn't roll back in my unit Test because I haven't called RecoveryManager.recoveryManager() to get the Recovery Manager and start that service. The problem is, you have to register resources with that recoveryManager and it only accepts XA resources. So it seems like for the problem I am trying to solve of using JTA with non-XA connections (in spite of the limitations of that approach) can only be done with Atomikos and the use of their AtomikosNonXADataSourceBean which works in my other repository where I did this same test. So I think that is the approach I will end up using in our production app, that I was trying to test out in these shell apps on github.
